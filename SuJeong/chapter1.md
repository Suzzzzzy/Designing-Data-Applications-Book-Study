# 1장. 신뢰할 수 있고 확장 가능하며 유지보수 하기 쉬운 애플리케이션 

## 1. 데이터 중심적인 많은 애플리케이션의 문제 ( 고려 필요 )
- 데이터의 양, 데이터의 복잡도, 데이터의 변화 속도

## 2. 데이터베이스 
- 데이터 저장
- 캐시 (읽기속도 향상)
- 검색 색인
- 스트림 처리 (비동기 처리)
- 일괄 처리 ( 대량 누적 데이터 분석)

## 3. 신뢰성, 확장성, 유지보수성
- 신뢰성(Reliability) 
- 결함, 오류에 직면할때 시스템이 지속적으로 올바르게 동작하는 것 (원하는 성능, 정확한 기능 보장)
- 내결함성(fault-tolerant), 탄력성(resilient)가진 시스템 : 결함을 예측하고 대처할 수 있는 시스템
- 장애 : 사용자에게 필요한 서비스를 제공하지 못하고 시스템 전체가 멈춘 것
- 결함 : 사양에서 벗어난 시스템의 한 구성 요소
- #결함으로 인해 장애가 발생하지 않게끔 내결함성 구조를 설계하는 것이 중요

- 확장성(Scalability) : 시스템의 양, 트래픽 양, 복잡도 증가시 이를 처리할 수 있는 적절한 방법 존재
   - 시스템이 특정 방식으로 커지면 이에 대처하기 위한 선택은 무엇인가?
   - 추가 부하를 다루기 위해 계산 자원은 어떻게 투입할까?
- 유지보수성(Maintainability) : 현재 작업을 유지보수, 새로운 사용 사례 적용하는 작업에서 모든 사용자가 시스템 상에서 생산적으로 작업할 수 있게 함

## 4. 하드웨어 결함
- 시스템 장애율 감소 위한 대응 : 각 하드웨어 구성 요소에 중복(redundancy) 추가
   - 디스크 RAID 구성
   - 서버 이중 전원 디바이스, 핫 스왑(hot-swap) 가능 CPU
   - 데이터 센터는 건전지, 예비 전원용 디젤 발전기 사용
   - 다중 장비 중복은 고가용성 필수인 애플리케이션에서 필요
     - *클라우드 플랫폼 : 단일 장비 신뢰성보다 유연성과 탄력성이 우선

- 중단점 없이 시스템을 운영하기 위해서 소프트웨어 내결함성 기술을 사용하거나 하드웨어 중복성을 추가해 전체 장비 손실을 견딜 수 있는 시스템 사용함


## 5. 소프트웨어 오류
   
- 시스템 내 체계적 오류 (systematic error)
- 문제 해결 : 빈틈없는 테스트, 프로세스 격리, 죽은 프로세스 재시작 허용, 프로덕션 환경에서 시스템 동작 측정, 모니터링, 분석, 시스템 가정과 상호작용 고려
   
## 6. 부하

- 부하 표현 : 부하 매개 변수(load parameter) → 부하 매개변수로 웹 서버의 초당 요청 수, 데이터베이스의 읽기 대 쓰기 비율, 대화방의 동시 활성 사용자, 캐시 적중률 등
- 부하 매개변수를 증가시키고 시스템 자원(CPU, 메모리, 네트워크 대역폭) 은 변경하지 않고 유지하면 시스템 성능에 가해지는 영향은?
- #부하 매개변수를 증가시켰을 때 성능이 변하지 않고 유지되길 원한다면 자원을 얼마나 많이 늘려야 할까?
- 부하 대응 접근 방식

## 7. 확장성
- 용량 확장 (scaling up) (수직 확장 vertical scaling) → 장비 사양 업
- 규모 확장 (scaling out) (수평 확장 horizontal scaling) → 장비 갯수 증가
- #비공유 아키텍처 (shared-nothing) : 다수의 장비에 부하를 분산하는 아키텍처
- #다수의 장비에 상태 비저장(stateless) 서비스를 배포하는 일은 상당히 간단하다. 하지만 단일 노드에 상태 유지(stateful) 데이터 시스템을 분산 설치하는 일은 아주 많은 복잡도가 추가적으로 발생한다. 이런 이유로 확장 비용이나 데이터베이스를 분산으로 만들어야 하는 고가용성 요구가 있을 때까지 단일 노드에 데이터베이스를 유지하는 것이 많음

## 8. 유지보수성

- 운용성(operability) : 운영팀이 시스템을 원활하게 운영할 수 있게 쉽게 만들기
- 운영 역할
  - 시스템 상태 모니터링, 서비스 복원
  - 시스템 장애, 성능 저하 등 문제 원인 추적
  - 보안 패치를 포함해 소프트웨어와 플랫폼 최신 상태로 유지
  - 문제에 대한 변경 사항을 확인하여 문제 발생 원인이 있으면 차단
  - 문제 예상 및 해결 (ex. 용량 계획)
  - 배포, 설정 관리 등을 위한 모범 사례, 도구 마련
  - 설정 변경으로 생기는 시스템 보안 유지보수
  - 예측 가능한 운영, 안정적인 서비스 환경을 유지하기 위한 절차 정의
  - 인사 이동등에도 조직의 지식 보존
  - 단순성(simplicity) : 시스템에서 복잡도를 최대한 제거해 시스템을 쉽게 이해할 수 있도록 생성
    - 복잡도 관리
    - 추상화 : 우발적 복잡도를 제거하기 위한 최상의 도구
  - 발전성(evolvability) : 이후에 시스템을 쉽게 변경할 수 있도록 할것 → 유연성(extensibility), 수정 가능성(modifiability), 적응성(plasticity)
#좋은 운영성이란 동일하게 반복되는 태스크를 쉽게 수행가능하도록 하여 운영팀이 고부가가치 활동에 집중

## 기타 
- 애플리케이션 생성시 어떤 도구, 접근방식을 선택할것인지 중요 
- 레디스(Redis) : 메시지 큐로 사용하는 데이터스토어(datastore)
- 아파치 카프카 (Apache Kafka) : 지속성을 보장하는 메시지 큐