# 논의 주제 

질문 1.
하나의 프로세스에서 다른 프로세스로 데이터를 전달하는 방법은 세가지가 책에 나오고 있다.
- 데이터 베이스를 통해 
- 서비스 호출을 통해( REST, RPC )
- 비동기 메시지 전달을 통해( 메시지 전달 데이터플로)
이 중에서 어떤 선택을 해서 데이터를 전달해야 한다고 생각하시나요? 

답변 1.
저의 경험을 나누어 보겠습니다.
실제로 며칠전에 이 형태를 생각해 볼 시간이 있었는데 AI 팀에서 필요한 차트 데이터가 있었고
관련된 데이터를 백엔드에서 전달할 수 있도록 서비스 호출을 통해 전달하는 방법과 직접 백엔드에서 저장하는 DB에 AI 팀이 접근하여 
사용할 수 있도록 하는 방법중에서 고려해야 했다. 
첫번째로 AI 팀이 직접 접근을 하게 된다면 DB를 가장 정확하게 받을 수 있으나 (여러 local 이 아닌 시스템의 전송사이에 발생하는 문제가 없음) 보안적인 측면에서
봤을때 DB 접근을 일원화하기 위해서 백엔드에서 API 를 생성 및 제공할 수 있도록 하자는 방안이 나왔었다.
하지만 매번 AI 에서 필요한 방식의 return 값 API를 백엔드 개발자가 만들어주는 것에 대한 타당성이 있나 싶었고 부호화의 측면에서 
직접 필요한 데이터의 형태로 받아서 가공하는 것이 더 생산성 측면에서도 나을 것이라고 생각했다. 
그럼에도 DB 에 접근하는 것을 최대한 줄이는 것이 데이터 안정성을 지키는 측면에서는 중요할 것이라고 생각했다.
어떤 선택을 해야하는지는 회사의 사정 팀의 모습에 따라서 결정하는 것이 필요하겠다. 






다른 사람 질문에 대한 답변 
1. 레거시 코드 경험 : 비트코인이나 이더리움등과 같은 코인 거래에 대한 정산 역할을 맡은 적이 있는데 그 당시에 코인 API 를 사용하여 지갑에 있는 
코인 변경 내역을 가져와서 정산에 반영해 줘야 하는 경우 
Dto 를 생성하여 클래스로 response 값을 모두 채워주었고 나중에 정산에 오류가 나서 보니 Dto 값이
클래스는 변하지 않았는데(코드자체) API 주는 값의 필드가 변해서 오류가 난 적이 있었다.(스키마 변경 호환성이 깨짐) 따라서 map 컬렉션으로 바꿨고 필드값이 추가되도 
그때 호환성 확장성 측면에서 필드를 고려하는것이 중요하다는 생각을 했다. 


2. api 응답으로 Base64를 사용해 텍스트로 부호화하고, Base64로 부호화했기 때문에 해석해야 한다는 것 표시한 적 있는지.


우선 시스템을 개발할때에 따라서 다를 것 같은데 어느범위까지 개발을 컨트롤 하느냐에 따라 달라질 것 같다. 
시스템을 개발한다는 것은 call 과 처리 및 응답 모두 개발을 함께 진행하는 경험이 더욱 많을 것이라고 생각해서
예를들어 사진을 DB 에 직접 바이너리 코드 변환후 저장한다고 했을때 그 값을 upload 하는 사용자가 있을 수 있고 -> 이것을 백서버에 넘겨주는 프론트에
요청사항으로 multipart로 파일을 넘겨달라고 한 후 백엔드에서는 그것에 맞춰서 Base64로 부호화 후 -> DB 에 저장한다. -> 그리고 이 저장한 것을
부호화가 되어 있다는 것을 알고 그것에 맞춰서 나머지를 개발하는 경우가 많다고 생각한다.  
시스템에서 이렇게 양방향을 모두 다 개발컨트롤을 할 수 없는 경우 Base64를 복호화해서 제공하거나 또는 API 요청 문서에 기입하는 등의 노력을 할 것이다. 



