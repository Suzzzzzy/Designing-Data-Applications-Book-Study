# 배운점

## 데이터 표현 히스토리

1. 데이터를 하나의 큰 트리로 표현 : 계층 모델
2. “다대다 표현” 문제 해결 : 관계형 모델
3. 관계형 모델에도 적합하지 않는 애플리케이션 : 비관계형 데이터 저장소 NoNSQL

## NoSQL의 2가지 갈래

1. 문서 데이터베이스
    - 데이터가 문서에 포함. 문서 간 관계가 없는 형태
2. 그래프 데이터베이스
    - 문서 DB와 정반대. 모든 것이 잠재적으로 관련 있음.

## “목적에 맞는” 다양한 시스템 보유

## 데이터 모델

- 데이터 모델은 고유한 질의 언어, 프레임워크 제공
    - SQL
    - 맵리듀스
    - 몽고DB의 집계 파이프라인
    - 사이퍼
    - 스파클
    - 데이터로그

---

# 관계형 모델과 문서 모델

## NoSQL 필요성

- 대규모 데이터 셋, 높은 쓰기 처리량 달성
- 쉬운 확장성
- 무료 오픈소스 SW
- 특수 질의 동작
- 스키마가 제한되어 있지 않아 풍부한 데이터 모델

## 객체 관계형 불일치

- 애플리케이션 코드 → 관계형 테이블 : `전환 계층` 필요
    - 임피던스 불일치
- 객체 관계 매핑 프레임워크(ORM)
    - 보일러플레이크 코드는 줄이지만, 두 모델 간의 차이 숨길 수는 없음
- 일부는, JSON 모델이 애플리케이션 코드 - 관계형 테이블 간 임피던스 불일치 줄인다고 생각함.

## JSON 표현

- 다중 테이블 스키마보다 `지역성`이 더 나음

## 다대일, 다대다 관계

- 일대다 관계 : 의미상 데이터 트리 구조
- 다대일 : 문서 모델에 적합하지 않음
    - 일대다 트리 구조 → 조인 필요.
    - 해당 조인을 애플리케이션 코드에서 흉내
    - 애플리케이션 초기 버전에는 문서 모델이 적합하더라도 기능 추가로 인해 데이터가 상호 연결되는 경향있음

## 코드를 간단하게 하는 데이터 모델

| 관계형 데이터베이스 | 문서형 데이터베이스 |
| --- | --- |
| 조인, 다대일, 다대다 관계를 더 잘 지원 | 스키마 유연성 |
|  | 지역성으로 인한 더 나은 성능 |
|  | 일부 앱의 경우, 앱의 데이터 구조와 더 가까움
: 일대다 관계 트리 |
| 다루기 힘든 스키마, 그로인한 복잡한 코드 발생 |  |