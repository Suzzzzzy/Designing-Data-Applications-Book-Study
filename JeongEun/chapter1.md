# 배운것

- 애플리케이션의 요구사항
    - 기능적 요구사항
    - 비기능적 요구사항 : 보안, 신뢰, 법규 준수, 확장성, 호환성, 유지보수성
- 1장에서 다룬 것
    - 신뢰성
        - 시스템이 올바르게 동작
    - 확장성
        - 좋은 성능 유지 전략
        - 예) 트위터 타임라인
        - 성능 측정 방법 : 응답 시간 백분위
    - 유지보수성
        - 엔지니어와 운영팀의 삶을 개선

# 1 신뢰성

- 넥플릭스의 `카오스 몽키(Chaos Monkey)`
    - 경고 없이 개별 프로세스를 무작위로 죽이는 것과 같이 고의적 결함 일으켜 내결함성을 훈련하고, 처리 자신감 높임.
- 오류 종류
    - 하드웨어 오류
    - 소프트웨어 오류
    - 인적 오류

# 2 확장성

- 아키텍쳐
    - 주요 동작이 무엇이고
    - 잘 하지 않은 동작이 무엇인지에 대한 가정을 바탕으로 구축
    - 가정은 부하 매개변수가 됨
    - 빠르게 반복해 제품 기능 개선 작업이 중요
- 아키텍쳐 결정 요소
    - 읽기/쓰기의 양
    - 저장할 데이터의 양
    - 데이터의 복잡도
    - 응답 시간 요구사항
    - 접근 패턴

## 부하 기술하기

- 트위터의 확장성 문제
    - 트윗 양이 아니라 `팬 아웃(fan-out)`
    - 정리와 직접 테스트 : https://hyeon9mak.github.io/twitter-system-design-experiment/
- fan out
    - 트위터 타임라인
    - 외부에서 환율 정보 가져오기. 여러 서버에서 환율 정보 가져왔던 것을 한 서버에서만 가져오고 나머지 서버에서는 그 정보를 가져가는 방식에서 사용.
        - **AWS의 SNS, SQS 사용**
        - [https://velog.io/@akfls221/실무에서-확인한-FAN-OUT과-대규모-트레픽에서의-FAN-OUT](https://velog.io/@akfls221/%EC%8B%A4%EB%AC%B4%EC%97%90%EC%84%9C-%ED%99%95%EC%9D%B8%ED%95%9C-FAN-OUT%EA%B3%BC-%EB%8C%80%EA%B7%9C%EB%AA%A8-%ED%8A%B8%EB%A0%88%ED%94%BD%EC%97%90%EC%84%9C%EC%9D%98-FAN-OUT)
    - 대표적인 **PUB/SUB, FAN-OUT**의 사용 사례
        - **Redis의 PUB/SUB, Kafka, RabbitMQ, AWS의 SNS, SQS**

## 성능 기술하기

- 95분위, 99분위, 99.9분위: 축약표현 P95, P99, P999