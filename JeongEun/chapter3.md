# 논의 주제
컬럼 지향 저장소, 로우 지향 저장소의 차이와 장단점에 대해 이야기해보고
그렇다면 어떤 상황일 때 어떤 것을 선택하는 것이 좋은지에 대해 이야기 하기 



# 정리

- 데이터베이스가 어떻게 저장, 검색을 다루는지 근본적인 내용
- 고수준 저장소 엔진
    1. 트랜잭션 처리 최적화 OLTP
    2. 분석 최적화 OLAP
    - OLTP
        - 대량의 요청 but 각 질의마다 작은 수의 레코드를 다룸
        - 키의 일부만 사용하는 레코드를 요청
        - 저장소 엔진은 요청한 키의 데이터를 찾기 위해 색인 사용
        - 대개 디스크 탐색이 병목
    - OLAP
        - 적은 수의 질의 but 각 잘의는 다루기 어렵고 짧은 시간 수백만 개 레코드 스캔
        - 대개 디스크 대역폭이 병목
        - `컬럼 지향 저장소` 는 이런 종류의 작업 부하를 처리할 때 인기가 높아지고 있다.
- OLTP 측면에서 2가지 주요 관점
    
    → 업데이트를 어떻게 관리하느냐에 대한 것. 
    로그를 한 파일에 쓰고 병합 과정을 거치고, key를 찾을 때 가장 최신의 데이터 검색. 
    
    데이터의 위치가 정해져있고 그 곳에 덮어쓰기. 덮어쓰기 시 파일이 초과했을 때는 일정 key의 범위가 다른 영역으로 분리됨 
    
    1. 로그 구조화 관점
        - 파일에 추가, 오래된 파일의 삭제만 허용. 파일 갱신 절대 하지 않음
        - 비트캐스크, SS테이블, LSM 트리, 레벨DB, 카산드라, HBase, 루씬
        - 비교적 최근에 개발 됨. 임의 접근 쓰기를 디스크에 순차 쓰기로 바꾼 것 → 쓰기 처리량을 높이는 것 가능
    2. 제자리 갱신 관점
        - 덮어쓰기 할 수 있는 고정 크기 페이지 셋으로 디스크를 나눔
        - 대표적 예 : B 트리
- OLTP 측면
    - 복잡한 색인 구조
    - 모든 데이터를 메모리에 유지하기 위해 최적화된 DB
- 데이터 웨어하우스 고수준 아키텍쳐
    - 저장소 엔진 내부 알아보기 → 분석 작업 부하가 OLTP와 다른 이유
    - 질의가 많은 수의 로우를 순차 스캔한다면 색인사용은 적절하지 않음
    - 디스크에서 읽은 데이터의 양을 최소화하는 것이 중요 → 데이터를 매우 작게 부호화
    - 컬럼 지향 저장소가 어떻게 이 목표를 달성하는지 설명