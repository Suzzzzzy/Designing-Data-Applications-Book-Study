# 파티셔닝
요약:
- 대용량 데이터셋을 파티셔닝하는 방법, 데이터 색인과 파티셔닝이 어떻게 상호작용 하는지.
- 클러스터에 노드를 추가하거나 제거할 때 필요한 재균형화.
- 데이터베이스가 어떻게 요청을 올바르게 파티션에 전달 및 질의하는지.

## 파티션과 복제
- 각 파티션의 복사본을 여러 노드에 저장 -> 한 파티션에 속하더라도 다른 노드에 저장해서 내결함성 보장 가능
- 한 노드에 여러 파티션 저장 가능 - 리더 팔로워 복제 모델 사용할 때

## 키-값 데이터 파티셔닝
- 파티셔닝의 목적: 데이터의 질의 부하를 노드 사이에 고르게 분산
- 핫스팟: 불균형하게 부하가 높은 파티션
  - 핫스팟을 방지하기 위해 기본키로 레코드에 접근하기 -> 빠른 탐색 가능
- 각 파티션 내에서는 키를 정렬된 순서로 저장 가능
- 범위 스캔 쉬워짐

## 키의 해시값 기준 파티셔닝
- 키의 파티션을 정하는데 해시함수로 정함 -> 균일하게 분산 가능
- 문자열이 유사해도 해시값은 숫자 범위 내에서 균일하게 분산 가능
- 파티셔닝용 해시함수는 암호적으로 강할 필요 없음


```
논의주제)
처음 단순하게 이해했을 때는, 연도별 데이터를 저장하기에 효율적이라고 생각했습니다.
2022, 2023, 2024.. 연도별로 파티션을 나눠 데이터를 저장하고 조회할 수 있기 때문입니다.

샤딩과 파티셔닝의 차이점은 뭘까? 라는 생각이 문득 들어 찾아보았습니다.
샤딩은 수평분할, 파티셔닝은 수직분할 이라고 합니다.
```