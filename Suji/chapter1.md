# Chapter1 신뢰할 수 있고 확장 가능하며 유지보수하기 쉬운 애플리케이션

# 소프트웨어 시스템에서 중요한 것
## 신뢰성
- 오류에 직면하더라도 시스템은 지속적으로 올바르게 동작해야한다
- 결함과 장애는 다르다
- 결함: 사양에서 벗어난 시스템의 한 구성요소 / 장애: 사용자에게 필요한 서비스를 제공하지 못하고 시스템 전체가 멈춘 경우
- 고의적으로 결함을 유도함으로써 내결함성 시스템을 지속적으로 훈련해야함
- 많은 애플리케이션이 많은 수의 장비를 사용 -> 하드웨어 결함율도 증가
- 소프트웨어 내결함성 기술을 사용하거나 하드웨어 중복성을 추가해 전체 장비의 손실을 견딜 수 있는 시스템으로 옮겨가고 있다

### 소프트웨어 오류
- 시스템 내 체계적 오류: 예상하기 어렵고 노드 간 상관관계 때문에 상관관계 없는 하드웨어 결함보다 시스템 오류를 더 유발
- ex) 공유자원을 과도하게 사용하는 일부 프로세스, 시스템의 속도가 느려져 반응이 없거나 잘못된 응답을 반환하는 서비스, 연쇄 장애..
- 체계적 오류 문제는 신속한 해결책이 없다
- 빈틈없는 테스트, 프로세스 격리, 죽은 프로세스의 재시작 허용, 모니터링 등 작은 일들이 문제 해결에 도움을 줄 수 있다
- 수행 중에 이를 지속적으로 확인해 차이가 생기는 경우 경고를 발생시킬 수도 있다(메시지 큐에 수신된 메시지 송신 수..)

### 인적 오류
- 사람의 실수가 많은 부분에서 사람 실수로 인한 장애가 발생 할 수 있는 부분을 분리 -> 비 프로덕션 샌드박스 
- 단위 테스트 부터 통합 테스트와 수동 테스트 까지 철저하게 테스트
- 인적 오류를 빠르고 쉽게 복구 - 예를 들어 설정 변경 내역을 빠르게 롤백하고 새로운 코드를 서서히 롤아웃 하게 만들고, 이전 계산이 잘못된 경우를 대비해 데이터 재계산 도구 제공
- 모니터링 - 조기에 경고 신호를 보내줄 수 있고 특정 가정이나 제한을 벗어나는지 확인 가능

## 확장성
- : 데이터, 트래픽, 복잡도가 증가하면서 이를 처리할 수 있는 적절한 방법이 있어야 한다
- '시스템이 특정 방식으로 커지면 대처하기 위한 선택은?', '추가 부하를 다루기 위해 계산 자원을 어떻게 투입?'
- 트위터에서 - 새로운 트윗을 작성할 경우 팔로우하는 사람을 모두 찾고 팔로워 홈 타임라인 캐시에 새로운 트윗을 삽입하는 방식
  - 팔로워가 3천만명이 넘는다면 홈 타임라인에 3천만건 이상의 쓰기 요청이 될 수도..
  - 그래서 팔로우가 많은 유명인 트윗은 별도로 처리 - 쿼리를 날려서 홈 조회한 사용자의 홈 타임라인에 합친다
- 급성장하는 서비스라면 부하 규모의 자릿수가 바뀔 대마다 혹은 그보다 자주 아키텍처를 재검토해야한다
- 비공유 아키텍처: 다수의 장비에 부하를 분산하는 아키텍처

## 유지보수성
- : 모든 사용자가 시스템 상에서 생산적으로 작업할 수 있게 해야한다

### 소프트웨어 시스템 설계 원칙
1. 운용성
- 운영팀이 시스템을 원활하게 운영할 수 있게 쉽게 만들어라
- 모니터링 및 빠른 서비스 복원
- 설정 변경으로 생기는 시스템 보안 유지보수
- 좋은 운영성 - 반복되는 테스크 쉽게 수행

2. 단순성: 복잡도 관리
- 복잡도는 진행을 느리게하고 유지보수 비용이 증가

3. 발전성: 변화를 쉽게 만들기
- 데이터 시스템 변경을 쉽게 하고 변화된 요구사항에 시스템을 맞추는 방법 - 간단함 & 추상화

